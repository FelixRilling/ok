var Ok=function(){"use strict";const t=t=>new Map(Object.entries(t)),i=t=>"checkbox"===t.type||"radio"===t.type,s=t=>i(t)?t.checked:t.value;return class{constructor(i,s="invalid"){this.map=t(i),this.invalidClass=s}validate(t,...i){if(!t.dataset.ok)throw new Error("no validator assigned");const n=s(t);let a=!0;return t.dataset.ok.split(",").map(t=>t.trim()).forEach(s=>{if(a){if(!this.map.has(s))throw new Error(`missing validator '${s}'`);const e=this.map.get(s);e.fn(n,t,...i)||(a=!1,t.setCustomValidity(e.msg))}}),a?(this.invalidClass&&t.classList.remove(this.invalidClass),t.setCustomValidity("")):this.invalidClass&&t.classList.add(this.invalidClass),a}bind(t,i="input"){t.addEventListener(i,i=>this.validate(t,i))}}}();
//# sourceMappingURL=ok.min.js.map
