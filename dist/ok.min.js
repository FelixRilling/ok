var Ok=function(){"use strict";const t=Object,i=Map,s=t.entries,n=t=>new i(s(t)),a=t=>"checkbox"===t.type||"radio"===t.type,e=t=>a(t)?t.checked:t.value;return class{constructor(t,i="invalid"){this.map=n(t),this.invalidClass=i}validate(t,...i){if(!t.dataset.ok)throw new Error("no validator assigned");const s=t.dataset.ok;if(!this.map.has(s))throw new Error(`missing validator '${s}'`);const n=this.map.get(s),a=n.fn(e(t),t,...i);return a?(this.invalidClass&&t.classList.remove(this.invalidClass),t.setCustomValidity("")):(this.invalidClass&&t.classList.add(this.invalidClass),t.setCustomValidity(n.msg)),a}bind(t,i="input"){t.addEventListener(i,i=>this.validate(t,i))}}}();
//# sourceMappingURL=ok.min.js.map
