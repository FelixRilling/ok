var Ok=function(){"use strict";const t=t=>new Map(Object.entries(t)),i=t=>"checkbox"===t.type||"radio"===t.type,s=t=>i(t)?t.checked:t.value;return class{constructor(i,s="invalid"){this.map=t(i),this.invalidClass=s}validate(t,...i){if(!t.dataset.ok)throw new Error("no validator assigned");const n=t.dataset.ok;if(!this.map.has(n))throw new Error(`missing validator '${n}'`);const a=this.map.get(n),e=a.fn(s(t),t,...i);return e?(this.invalidClass&&t.classList.remove(this.invalidClass),t.setCustomValidity("")):(this.invalidClass&&t.classList.add(this.invalidClass),t.setCustomValidity(a.msg)),e}bind(t,i="input"){t.addEventListener(i,i=>this.validate(t,i))}}}();
//# sourceMappingURL=ok.min.js.map
