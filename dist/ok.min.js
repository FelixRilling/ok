var Ok=function(){"use strict";const t=(t,i)=>typeof t===i,i=t=>new Map(Object.entries(t)),n=t=>"checkbox"===t.type||"radio"===t.type,s=t=>n(t)?t.checked:t.value,a=!(i=>t(i,"undefined"))(HTMLInputElement.prototype.setCustomValidity);return class{constructor(t,n="invalid"){this.map=i(t),this.invalidClass=n}validate(t,...i){if(!t.dataset.ok)throw new Error("no validator assigned");const n=s(t);let e=!0;return t.dataset.ok.split(",").map(t=>t.trim()).forEach(s=>{if(e){if(!this.map.has(s))throw new Error(`missing validator '${s}'`);const o=this.map.get(s);o.fn(n,t,...i)||(e=!1,a&&t.setCustomValidity(o.msg))}}),e?(a&&t.setCustomValidity(""),this.invalidClass&&t.classList.remove(this.invalidClass)):this.invalidClass&&t.classList.add(this.invalidClass),e}bind(t,i="input"){t.addEventListener(i,i=>this.validate(t,i))}}}();
//# sourceMappingURL=ok.min.js.map
